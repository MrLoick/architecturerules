<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description"
          content="Assert Your Architecture - with this open source java library. Leverages XML and optional programatic configuration to assert your code's architecture via unit tests or ant tasks. Able to check for layer independence and cyclic dependencies." />
    <meta name="keywords"
          content="open source java xml jdepend architecture rules unit test junit" />
    <META http-equiv="expires" content="Wed, 26 Feb 1997 08:21:57 GMT">
    <meta name="ROBOTS" content="INDEX, FOLLOW" />
    <title>
        architecture rules
    </title>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" type="text/css" href="css/nifty.css" />
    <link rel="stylesheet" type="text/css" href="css/syntax.css" />
    <!--[if lt IE 8]>
    <style type="text/css">
      #mainmenu li a, #recentposts li a, #personalfavorites li a, #textads li a, #recentcomments li, #contactme li {display:inline-block;}
      #mainmenu li a, #recentposts li a, #personalfavorites li a, #textads li a, #recentcomments li, #contactme li {display:block;}
      *html #page {width:expression(document.documentElement.clientWidth > 1010? "1010px" : auto")}
    </style>
    <![endif]-->

    <script type="text/javascript" src="js/application.js"></script>
</head>
<body>
<div id="page">
<div id="blogtitle" class="primary">
    <a
            href="http://architecturerules.googlecode.com/svn/docs/index.html">architecture</a><span>
        rules</span>
</div>
<div id="backtogoogle">
    <a href="http://code.google.com/p/architecturerules/">google code
        landing page</a>
</div>
<div id="about">
    <p class="description">
        <strong>Assert Your Architecture!</strong> with this <em>open
        source</em> <strong>java</strong> library. Architecture Rules
        leverages an <a href="sample-configuration.html">xml configuration
        file</a> and optional programmatic configuration to assert your
        code's architecture via <a
            href="getting-started.html#write-unit-test">unit tests</a> or <a
            href="run.html#ant-task">ant tasks</a>. This test is able to assert
        that specific packages do not depend on others and is able to check
        for and report on cyclic dependencies among your project's packages
        and classes. This project wraps a industry accepted <a
            href="http://clarkware.com/software/JDepend.html"
            target="_jdepend">JDepend</a> to simplify the process of maintaining
        a solid software architecture.
    </p>
    <ul id="mainmenu">
        <li id="home" class="page_item current_page_item">
            <a title="home" href="index.html">Home</a>
        </li>
        <li id="source" class="page_item">
            <a href="source.html">Source</a>
        </li>
        <li id="downloads" class="page_item">
            <a href="downloads.html">Downloads</a>
        </li>
        <li id="mailing-lists" class="page_item">
            <a href="mailing-lists.html">Mailing Lists</a>
        </li>
    </ul>
</div>
<!-- /about -->
<div id="primary" class="single hfeed">
<div class="hentry post programming" id="toc">
    <h1 class="posttitle entry-title">
        Execution Options
    </h1>

    <p>
        There are various ways to <strong>Assert your
        Architecture!</strong> with Architecture Rules.
    </p>

    <div class="entry entry-content">
        <ol id="toc">
            <li>
                <a href="#ant-task">Ant-Task</a>
            </li>
            <li>
                <a href="#ant-unit-test">Ant Unit Test</a>
            </li>
            <li>
                <a href="#maven-2">Maven 2</a>
            </li>
            <li>
                <a href="#maven-1">Maven 1</a>
            </li>
        </ol>
    </div>
</div>
<div class="hentry post programming" id="ant-task">
    <h1 class="posttitle entry-title">
        Ant-Task
    </h1>

    <div class="entry entry-content">
        <p>
            If you are not a Maven user, this Ant task is the the preferred
            means for asserting your architecture. The downside to this
            method of running the test, is that there is no means for you to
            provide any programmatic configuration - the entire configuration
            must be read from the configuration file. If you must use Ant,
            and you must provide programmatic configuration, you will need to
            see the next option, <a href="#ant-unit-test">Ant Unit Test</a>.
        </p>

        <p>
            To use the Ant task, you must define the task with the
            <tt>taskdef</tt> directive, and then create a target to call
            assertArchitecture, and provide a name of the xml configuration
            file which you have placed in the project's classpath.
        </p>

        <p>
            To run with ant, you must include your own compile goal. This
            configuration below includes <tt>depends="compile"</tt> within
            the test-architecture goal, so you need to implement that goal,
            or change the depends to your own goal, whatever you may have
            called your compile goal.
        </p>

        <p>
            Also, you will need to point to all of the libs. If you're an ant
            user, you probably have a /libs directory that you can point to.
        </p>

        <p>
            For an up-to-date list of dependencies, see the <a
                href="dependencies.html">dependencies list</a>.
        </p>

        <div id="antTaskConfiguration">

            <img src="images/magnifier_zoom_in.png" style="border:none;" id="magnify_ant_task">
            <img src="images/magnifier_zoom_out.png" style="border:none;" id="demagnify_ant_task">

            <pre name="code" class="xml:nocontrols:nogutter">
                
                &lt;property name="maven.repo" value="C:\dev\m2repo\"/>

                &lt;path id="class.path"&gt;
                    &lt;pathelement id="test classes" path=".\target\test-classes"/&gt;
                    &lt;pathelement id="main classes" path=".\target\classes"/&gt;

                    &lt;!-- updated list of dependencies available at http://architecturerules.googlecode.com/svn/docs/dependencies.html --&gt;

                    &lt;pathelement id="commons-digester" path="${maven.repo}\commons-digester\commons-digester\1.8\commons-digester-1.8.jar"/&gt;
                    &lt;pathelement id="jdepend" path="${maven.repo}\jdepend\jdepend\2.9.1\jdepend-2.9.1.jar"/&gt;
                    &lt;pathelement id="junit" path="${maven.repo}\junit\junit\3.8.1\junit-3.8.1.jar"/&gt;
                    &lt;pathelement id="commons-beanutils" path="${maven.repo}\commons-beanutils\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar"/&gt;
                    &lt;pathelement id="commons-logging" path="${maven.repo}\commons-logging\commons-logging\1.1\commons-logging-1.1.jar"/&gt;
                &lt;/path&gt;

                &lt;!-- you must define your own compile --&gt;
                &lt;target name="compile"/&gt;

                &lt;taskdef name="assertArchitecture"
                         classname="com.seventytwomiles.architecturerules.ant.AssertArchitectureTask"&gt;
                    &lt;classpath refid="class.path"/&gt;
                &lt;/taskdef&gt;

            </pre>
        </div>
    </div>
    <!-- entry -->
</div>
<!-- post -->
<div class="hentry post programming" id="ant-unit-test">
    <h1 class="posttitle entry-title">
        Ant Unit Test
    </h1>

    <div class="entry entry-content">
        <p>
            To run with ant, you must include your own compile goal. This
            configuration below includes <tt>depends="compile"</tt> within
            the test-architecture goal, so you need to implement that goal,
            or change the depends to your own goal, whatever you may have
            called your compile goal.
        </p>

        <p>
            Also, you will need to point to all of the libs. If you're an ant
            user, you probably have a /libs directory that you can point to.
        </p>

        <p>
            For an up-to-date list of dependencies, see the <a
                href="dependencies.html">dependencies list</a>.
        </p>

        <div id="antUnitTestConfiguration">
            <img src="images/magnifier_zoom_in.png" style="border:none;" id="magnify_ant_unit_test">
            <img src="images/magnifier_zoom_out.png" style="border:none;" id="demagnify_ant_unit_test">
            <pre name="code" class="xml:nocontrols:nogutter">

                &lt;property name="maven.repo" value="C:\dev\m2repo\"/>

                &lt;path id="class.path"&gt;
                    &lt;pathelement id="test classes" path=".\target\test-classes"/&gt;
                    &lt;pathelement id="main classes" path=".\target\classes"/&gt;

                    &lt;!-- updated list of dependencies available at http://architecturerules.googlecode.com/svn/docs/dependencies.html --&gt;

                    &lt;pathelement id="commons-digester" path="${maven.repo}\commons-digester\1.8\commons-digester-1.8.jar"/&gt;
                    &lt;pathelement id="jdepend" path="${maven.repo}\jdepend\2.9.1\jdepend-2.9.1.jar"/&gt;
                    &lt;pathelement id="junit" path="${maven.repo}\junit\3.8.1\junit-3.8.1.jar"/&gt;
                    &lt;pathelement id="commons-beanutils" path="${maven.repo}\commons-beanutils\1.7.0\commons-beanutils-1.7.0.jar"/&gt;
                    &lt;pathelement id="commons-logging" path="${maven.repo}\commons-logging\1.1\commons-logging-1.1.jar"/&gt;
                &lt;/path&gt;

                &lt;!-- you must define your own compile --&gt;
                &lt;target name="compile"/&gt;

                &lt;target name="test-architecture" depends="compile"&gt;
                    &lt;junit haltonerror="true"&gt;
                        &lt;classpath refid="class.path"/&gt;
                        &lt;formatter type="brief" usefile="false"/&gt;
                        &lt;test name="com.seventytwomiles.architecturerules.ArchitectureTest"
                              haltonfailure="true"/&gt;
                    &lt;/junit&gt;
                &lt;/target&gt;
            </pre>
        </div>
    </div>
    <!-- entry -->
</div>
<!-- post -->
<div class="hentry post programming" id="maven-2">
    <h1 class="posttitle entry-title">
        Maven 2
    </h1>

    <div class="entry entry-content">
        <p>
            With Maven 2, you can run all your tests or, a single test.
        </p>

        <p>
            To run a single test, define the variable <tt>test</tt> as the
            name of the test class that you wish to execute.
        </p>
        <tt>%&gt; mvn -Dtest=ArchitectureTest test</tt>

        <p>
            To run all of your tests, enter
        </p>
        <tt>%&gt; mvn test</tt>
    </div>
    <!-- entry -->
</div>
<!-- post -->
<div class="hentry post programming" id="maven-1">
    <h1 class="posttitle entry-title">
        Maven 1
    </h1>

    <div class="entry entry-content">
        <p>
            With Maven 2, you can run all your tests or, a single test.
        </p>

        <p>
            To run a single test, define the variable <tt>testcase</tt> as
            the name of the test class that you wish to execute.
        </p>
        <tt>%&gt; maven -Dtestcase=ArchitectureTest test:single</tt>

        <p>
            To run all of your tests, enter
        </p>
        <tt>%&gt; maven test:test</tt>
    </div>
    <!-- entry -->
</div>
<!-- post -->
</div>
<div id="secondary">
</div>
<!-- /secondary -->
</div>
<!-- /page -->
<!-- footer -->
<div id="footer">
</div>
<!-- /footer -->

<script type="text/javascript">
    //<![CDATA[
    Run.makeZoomIn();
    Run.makeZoomOut();
    //]]>
</script>

</body>
</html>

