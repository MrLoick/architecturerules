<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="Assert Your Architecture - with this open source java library. Leverages XML and optional programatic configuration to assert your code's architecture via unit tests or ant tasks. Able to check for layer independence and cyclic dependencies." />
<meta name="keywords" content="open source java xml jdepend architecture rules unit test junit" />
<title>architecture rules</title>
<link rel="stylesheet" type="text/css" href="css/style.css" />
<link rel="stylesheet" type="text/css" href="css/nifty.css" />
<link rel="stylesheet" type="text/css" href="css/syntax.css"/>
<!--[if lt IE 8]>
<style type="text/css">
  #mainmenu li a, #recentposts li a, #personalfavorites li a, #textads li a, #recentcomments li, #contactme li {display:inline-block;}
  #mainmenu li a, #recentposts li a, #personalfavorites li a, #textads li a, #recentcomments li, #contactme li {display:block;}
  *html #page {width:expression(document.documentElement.clientWidth > 1010? "1010px" : auto")}
</style>
<![endif]-->
</head>
<body>
<div id="page">
  <div id="blogtitle" class="primary"><a href="http://architecturerules.googlecode.com/svn/docs/index.html">architecture</a><span>rules</span></div>
  <div id="backtogoogle"><a href="http://code.google.com/p/architecturerules/">google code landing page</a></div>
  <div id="about">
    <p class="description"> <strong>Assert Your Architecture!</strong> with this <em>open source</em> <strong>java</strong> library. Architecture Rules leverages an <a href="sample-configuration.html">xml configuration file</a> and optional programatic configuration to assert your code's architecture via <a href="getting-started.html">unit tests</a> or <a href="run.html#ant-task">ant tasks</a>. This test is able to assert that specific packages do not depend on others and is able to check for and report on cyclic dependencies among your project's packages and classes. This project wraps a industry accepted <a href="http://clarkware.com/software/JDepend.html" target="_jdepend">JDepend</a> to simplify the process of maintaining a solid software architecture.</p>
    <ul id="mainmenu">
      <li id="home" class="page_item current_page_item"><a title="home" href="index.html" accesskey="h"><span>H</span>ome</a></li>
      <li id="source" class="page_item"><a href="source.html"><span>S</span>ource</a></li>
      <li id="downloads" class="page_item"><a href="downloads.html"><span>D</span>ownloads</a></li>
    </ul>
  </div>
  <!-- /about -->
  <div id="primary" class="single hfeed">

    <div class="hentry post programming" id="toc">
      <h1 class="posttitle entry-title">Execution Options</h1>
      <p class="postmetadata"></p>
      <p>There are various ways to <strong>Assert your Architecture!</strong> with Architecture Rules.</p>
      <div class="entry entry-content">
        <ol id="toc">
          <li><a href="#ant-task">Ant-Task</a></li>
          <li><a href="#ant-unit-test">Ant Unit Test</a></li>
          <li><a href="#maven-2">Maven 2</a></li>
          <li><a href="#maven-1">Maven 1</a></li>
        </ol>
	  </div>
	</div>

    <div class="hentry post programming" id="ant-task">
      <h1 class="posttitle entry-title">Ant-Task</h1>
      <p class="postmetadata"></p>
      <div class="entry entry-content">

        <p>If you are not a Maven user, this Ant task is the the preffered means for asserting your architecture. The downside to this method of running the test, is that
        there is no means for you to provide any programattic configuration - the entire configuraiton must be read from the configuration file. If you must use Ant, and
        you must provide programatic configuration, you will need to see the next option, <a href="#ant-unit-test">Ant Unit Test</a>.</p>

        <p>To use the Ant task, you must define the task with the <tt>taskdef</tt> directive, and then create a target to call assertArchitecture, and provide a name of the
        xml configuration file which you have placed in the project's classpath.</p>

		<p>To run with ant, you must include your own compile goal. This configuraiton below includes <tt>depends="compile"</tt> within the test-architecture goal, so you need to implement that goal, or change the depends to your own goal, whatever you may have called your compile goal.</p>

	   	<p>Also, you will need to point to all of the libs. If you're an ant user, you probably have a /libs directory that you can point to.<p>

        <p>For an up-to-date list of dependencys, see the <a href="dependencies.html">dependencies list</a>.

        <pre name="code" class="xml:nocontrols:nogutter">

<path id="class.path">
   <pathelement id="test classes" path="target\test-classes"></pathelement>
   <pathelement id="main classes" path="target\classes"></pathelement>
   <pathelement id="commons-digester" path="lib\commons-digester-1.8.jar"></pathelement>
   <pathelement id="jdepend" path="lib\jdepend-2.9.1.jar"></pathelement>
   <pathelement id="junit" path="lib\junit-3.8.1.jar"></pathelement>
   <pathelement id="xercesImpl" path="lib\xercesImpl-2.6.2.jar"></pathelement>
   <pathelement id="xml-apis" path="lib\xml-apis-1.3.04.jar"></pathelement>
   <pathelement id="avalon-framework" path="lib\avalon-framework-4.1.3.jar"></pathelement>
   <pathelement id="commons-beanutils" path="lib\commons-beanutils-1.7.0.jar"></pathelement>
   <pathelement id="commons-logging" path="lib\commons-logging-1.1.jar"></pathelement>
   <pathelement id="servlet-api" path="lib\servlet-api-2.3.jar"></pathelement>
   <pathelement id="log4j" path="lib\log4j-1.2.12.jar"></pathelement>
   <pathelement id="logkit" path="lib\logkit-1.0.1.jar"></pathelement>
</path>


<taskdef name="assertArchitecture"
    classname="com.seventytwomiles.architecturerules.ant.AssertArchitectureTask">
    <classpath refid="class.path"></classpath>
</taskdef>

<target name="assert-architecture" depends="compile">
    <assertArchitecture
        configurationFileName="architecture-rules.xml">
    </assertArchitecture>
</target>
        </pre>

      </div> <!-- entry -->
    </div> <!-- post -->

	<div class="hentry post programming" id="ant-unit-test">
	  <h1 class="posttitle entry-title">Ant Unit Test</h1>
	  <p class="postmetadata"></p>
	  <div class="entry entry-content">

       <p>To run with ant, you must include your own compile goal. This configuraiton below includes <tt>depends="compile"</tt> within the test-architecture goal, so you need to implement that goal, or change the depends to your own goal, whatever you may have called your compile goal.</p>

	   <p>Also, you will need to point to all of the libs. If you're an ant user, you probably have a /libs directory that you can point to.<p>

       <p>For an up-to-date list of dependencys, see the <a href="dependencies.html">dependencies list</a>.

	  <pre name="code" class="xml:nocontrols:nogutter">
<project basedir=".">

    <path id="class.path">
        <pathelement id="test classes" path="target\test-classes"></pathelement>
        <pathelement id="main classes" path="target\classes"></pathelement>
        <pathelement id="commons-digester" path="lib\commons-digester-1.8.jar"></pathelement>
        <pathelement id="jdepend" path="lib\jdepend-2.9.1.jar"></pathelement>
        <pathelement id="junit" path="lib\junit-3.8.1.jar"></pathelement>
        <pathelement id="xercesImpl" path="lib\xercesImpl-2.6.2.jar"></pathelement>
        <pathelement id="xml-apis" path="lib\xml-apis-1.3.04.jar"></pathelement>
        <pathelement id="avalon-framework" path="lib\avalon-framework-4.1.3.jar"></pathelement>
        <pathelement id="commons-beanutils" path="lib\commons-beanutils-1.7.0.jar"></pathelement>
        <pathelement id="commons-logging" path="lib\commons-logging-1.1.jar"></pathelement>
        <pathelement id="servlet-api" path="lib\servlet-api-2.3.jar"></pathelement>
        <pathelement id="log4j" path="lib\log4j-1.2.12.jar"></pathelement>
        <pathelement id="logkit" path="lib\logkit-1.0.1.jar"></pathelement>
    </path>

    <target name="test-architecture" depends="compile">
        <junit>
            <classpath refid="class.path"></classpath>
            <formatter type="brief" usefile="false"></formatter>
            <test name="com.company.app.ArchitectureTest" haltonfailure="true"></test>
        </junit>
    </target>

</project>
      </pre>

	  </div> <!-- entry -->
    </div> <!-- post -->


	<div class="hentry post programming" id="maven-2">
	  <h1 class="posttitle entry-title">Maven 2</h1>
	  <p class="postmetadata"></p>
	  <div class="entry entry-content">

        <p>With Maven 2, you can run all your tests or, a single test.</p>

        <p>To run a single test, define the variable <tt>test</tt> as the name of the test class that you wish to execute.</p>

        <tt>%> mvn -Dtest=ArchitectureTest test</tt>

        <p>To run all of your tests, enter</p>

        <tt>%> mvn test</tt>

	  </div> <!-- entry -->
    </div> <!-- post -->


	<div class="hentry post programming" id="maven-1">
	  <h1 class="posttitle entry-title">Maven 1</h1>
	  <p class="postmetadata"></p>
	  <div class="entry entry-content">

	  <p>With Maven 2, you can run all your tests or, a single test.</p>

	  <p>To run a single test, define the variable <tt>testcase</tt> as the name of the test class that you wish to execute.</p>

	  <tt>%> maven -Dtestcase=ArchitectureTest test:single</tt>

	  <p>To run all of your tests, enter</p>

      <tt>%> maven test:test</tt>

	  </div> <!-- entry -->
    </div> <!-- post -->


  </div>

  <div id="secondary">
    <h4>mailing<span>lists</span></h4>
    <ul id="mailinglists">
      <li> <a href="http://groups.google.com/group/architecture-rules-users/topics?gvc=2" >architecture-rules-user</a> <a href="http://groups.google.com/group/architecture-rules-users/feed/rss_v2_0_topics.xml" class="rss"> rss </a> </li>
      <li> <a href="http://groups.google.com/group/architecture-rules-dev/topics?gvc=2">architecture-rules-dev</a> <a href="http://groups.google.com/group/architecture-rules-dev/feed/rss_v2_0_topics.xml" class="rss"> rss </a> </li>
      <li> <a href="http://groups.google.com/group/architecture-rules-activity/topics?gvc=2">architecture-rules-activity</a> <a href="http://groups.google.com/group/architecture-rules-activity/feed/rss_v2_0_topics.xml" class="rss"> rss </a> </li>
    </ul>
    <h4>issue<span>list</span></h4>
    <ul id="issues">
      <li class="alignleft"><a href="http://code.google.com/p/architecturerules/issues/list">view issues</a></li>
      <li class="alignright"><a href="http://code.google.com/p/architecturerules/issues/entry">report issue</a></li>
    </ul>
    <h4>more<span>information</span></h4>
    <p>Just a little something something for the people.</p>
    <ul id="moreinformation">
      <li><a href="getting-started.html">Getting Started</a> configuration examples and how to run the test</li>
      <li><a href="sample-configuration.html">Sample Configuration</a> to get you started</li>
      <li><a href="run.html#ant-task">Ant Task</a> to run from ant rather than JUnit</li>
      <li><a href="exceptions.html">Exceptions</a> descriptions of all them</li>
      <li><a href="alternatives.html">Alternative</a> architecture monitoring java solutions</li>
      <li><a href="http://architecturerules.googlecode.com/svn/docs/maven-generated-site/project-reports.html">Maven</a>-generated site</li>
    </ul>
    <h4>licence<span>details</span></h4>
    <p>Licenced under <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a> - <small>allows use of the source code for the development of free and open source software as well as proprietary and closed source software.</small></p>
  </div>
</div>
<!-- footer -->
<div style="clear: both;"></div>
<div id="footbar">
  <p>Need some footer content...</p>
</div>
<!-- /footer -->
<!-- syntaxhighlighter -->
<script type="text/javascript" src="http://syntaxhighlighter.googlecode.com/svn/tags/1.5.1/Scripts/shCore.js" language="JavaScript">
</script>
<script type="text/javascript" src="http://syntaxhighlighter.googlecode.com/svn/tags/1.5.1/Scripts/shBrushXml.js" language="JavaScript">
</script>
<script type="text/javascript" src="http://syntaxhighlighter.googlecode.com/svn/tags/1.5.1/Scripts/shBrushJava.js" language="JavaScript">
</script>
<!-- nifty -->
<script type="text/javascript" src="js/nifty.js" language="JavaScript">
</script>
<script language="javascript">
	window.onload = function () {
    	dp.SyntaxHighlighter.ClipboardSwf = 'http://syntaxhighlighter.googlecode.com/svn/tags/1.5.1/Scripts/clipboard.swf';
	    dp.SyntaxHighlighter.HighlightAll('code');

		if(!NiftyCheck())
            return;

		Rounded("div#about","#fff","#E7EFFF");
		Rounded("div#downloadnow","#fff","#e8fecd");
		RoundedTop("div#footbar","#fff","#e8fecd");
	}
</script>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-616623-3";
urchinTracker();
</script>

</div>
</body>
</html>
