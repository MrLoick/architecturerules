<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="Assert Your Architecture - with this open source java library. Leverages XML and optional programatic configuration to assert your code's architecture via unit tests or ant tasks. Able to check for layer independence and cyclic dependencies." />
<meta name="keywords" content="open source java xml jdepend architecture rules unit test junit" />
<meta name="Expires" content="0">
<meta name="ROBOTS" content="INDEX, FOLLOW">
<title>architecture rules</title>
<link rel="stylesheet" type="text/css" href="css/style.css" />
<link rel="stylesheet" type="text/css" href="css/nifty.css" />
<link rel="stylesheet" type="text/css" href="css/syntax.css"/>
<!--[if lt IE 8]>
<style type="text/css">
  #mainmenu li a, #recentposts li a, #personalfavorites li a, #textads li a, #recentcomments li, #contactme li {display:inline-block;}
  #mainmenu li a, #recentposts li a, #personalfavorites li a, #textads li a, #recentcomments li, #contactme li {display:block;}
  *html #page {width:expression(document.documentElement.clientWidth > 1010? "1010px" : auto")}
</style>
<![endif]-->
</head>
<body>
<div id="page">
  <div id="blogtitle" class="primary"><a href="http://architecturerules.googlecode.com/svn/docs/index.html">architecture</a><span>rules</span></div>
  <div id="backtogoogle"><a href="http://code.google.com/p/architecturerules/">google code landing page</a></div>
  <div id="about">
    <p class="description"> <strong>Assert Your Architecture!</strong> with this <em>open source</em> <strong>java</strong> library. Architecture Rules leverages an <a href="sample-configuration.html">xml configuration file</a> and optional programmatic configuration to assert your code's architecture via <a href="getting-started.html#write-unit-test">unit tests</a> or <a href="run.html#ant-task">ant tasks</a>. This test is able to assert that specific packages do not depend on others and is able to check for and report on cyclic dependencies among your project's packages and classes. This project wraps a industry accepted <a href="http://clarkware.com/software/JDepend.html" target="_jdepend">JDepend</a> to simplify the process of maintaining a solid software architecture.</p>
    <ul id="mainmenu">
      <li id="home" class="page_item current_page_item"><a title="home" href="index.html">Home</a></li>
      <li id="source" class="page_item"><a href="source.html">Source</a></li>
      <li id="downloads" class="page_item"><a href="downloads.html">Downloads</a></li>
      <li id="mailing-lists" class="page_item"><a href="mailing-lists.html">Mailing Lists</a></li>
    </ul>
  </div>
  <!-- /about -->

  <div id="primary" class="single hfeed">

    <div class="hentry post programming" id="getting-started">
      <h1 class="posttitle entry-title">Getting Started</h1>
      <div class="entry entry-content">
        <p>This tutorial will get you started and have you <strong>Asserting Your Architecture!</strong> in a matter of minutes.</p>

        <p>The steps that are covered include:</p>

        <ol id="toc">
		  <li><a href="#get">Get the Library and Dependencies</a></li>
		  <li><a href="#architecture-rules.xml">Write your architecture rules</a></li>
		  <li><a href="#write-unit-test">Write</a>
		  <ol id="toc">
	 	    <li><a href="#write-unit-test">Write your unit test</a></li>
		    <li><a href="#write-ant-task">Write your Ant task</a></li>
		  </ol>
		  </li>
		  <li><a href="#execute-unit-test">Execute</a>
		  <ol id="toc">
		    <li><a href="#execute-unit-test">Execute your unit test</a></li>
		    <li><a href="#execute-ant-task">Execute your Ant task</a></li>
		  </ol>
		  </li>
        </ol>

      </div><!-- entry -->
    </div><!-- post -->


    <div class="hentry post programming" id="get">
      <h1 class="posttitle entry-title">Get the Library and Dependencies</h1>
      <div class="entry entry-content">

        <p>You can get the library from one of two locations.</p>

        <p>First, the easiest and most common method is to download the pre-compiled package from the <a href="downloads.html">downloads</a> page.</p>

        <p>Or, you can get the latest development commit from subversion. Details on accessing subversion are available on the <a href="source.html">source</a> page.
        Note however, that the code in subversion is not always stable. Be sure to run the tests to find out.</p>

		<p>For a list of the dependencies that you will need to download, see the <a href="dependencies.html">dependencies</a> list.

      </div><!-- entry -->
    </div><!-- post -->

    <div class="hentry post programming" id="architecture-rules.xml">
      <h1 class="posttitle entry-title">Write your architecture rules</h1>
      <div class="entry entry-content">

        <p>Next, you will create your architecture rules. This page will only discuss the xml configuration option, but be aware that you can
        also populate the configuration programmatically - or both with a configuration file and programmatically.</p>

        <p>First, create the xml configuration file. The standard naming convention for this file is <tt>architecture-rules.xml</tt> but you are
        able to name this file whatever you want. Place this file in your classpath, such as <tt>src/test/resources</tt>.</p>

        <p>Next, you'll actually write your rules. This requires some though. Think about your layers and modules and strive for separation of
        concern and loosely coupled modules. See the <a href="sample-configuration.html">sample configuration</a> example to write your rules.</p>

      </div><!-- entry -->
    </div><!-- post -->

    <div class="hentry post programming" id="write-unit-test">
      <h1 class="posttitle entry-title">Write your unit test</h1>
      <div class="entry entry-content">

        <p>First, note that if you are using the Ant task method of executing your test you don't need to write the unit test. See the next section
        on <a href="#write-ant-task">writing the Ant task.</a></p>

		<h3>XML Configuration</h3>

        <p>To write the unit test,

        <ol>
          <li>extend <tt>com.seventytwomiles.architecturerules.AbstractArchitectureRulesConfigurationTest</tt></li>
          <li>implement <tt>String getConfigurationFileName()</tt> to return "architecture-rules.xml"</li>
         <li>implement <tt>void testArchitecture()</tt> which should simple call <tt>assertTrue(doTests());</tt> </li>
        </ol>
        </p>

        <p>A complete, simple example looks like:</a>

        <pre name="code" class="java:nogutter:nocontrols">
/**
 * <p>Architecture test example.</p>
 *
 * @author mikenereson
 * @see AbstractArchitectureRulesConfigurationTest
 */
public class SimpleArchitectureTest
                 extends AbstractArchitectureRulesConfigurationTest {


    /**
     * @see AbstractArchitectureRulesConfigurationTest
     */
    public String getConfigurationFileName() {

        /**
         * Provide the name of the rules configuration file.
         * File file is loaded from the classpath.
         */
        return "architecture-rules.xml";
    }


    /**
     * @see AbstractArchitectureRulesConfigurationTest#testArchitecture
     */
    public void testArchitecture() {

        /**
         * Run the test via doTest(). If any rules are broken,
         * or if the configuration can not be loaded properly,
         * then the appropriate Exception will be thrown.
         */
        assertTrue(doTests());
    }
}
        </pre>

		<h3>Programmatic Configuration</h3>

        <p>You may also opt to provide only programmatic configuration, and provide no xml configuration. To do this, call <tt>getConfiguration()</tt> which will return
        and instance of <tt>com.seventytwomiles.architecturerules.configuration.Configuration</tt> for you to setup. Once configured, again, implement <tt>testArchitecture()</tt>
        to call <tt>assertTrue(doTests());</tt>. A complete example looks like: </p>

        <pre name="code" class="java:nogutter:nocontrols">
public class SimpleProgramaticArchitectureTest
                  extends AbstractArchitectureRulesConfigurationTest {


    /**
     * Sets up the fixture, for example, open a network
     * connection. This method is called before a test
     * is executed.
     */
    protected void setUp() throws Exception {

        super.setUp();

        /* get the configuration reference */
        final Configuration configuration = getConfiguration();

        /* add sources */
        configuration.addSource(
                  new SourceDirectory("target\\test-classes", true));

        /* set options */
        configuration.setDoCyclicDependencyTest(false);
        configuration.setThrowExceptionWhenNoPackages(true);

        /* add Rules */
        final Rule daoRule = new Rule("dao");
        daoRule.setComment("dao may not access presentation.");
        daoRule.addPackage("test.com.seventytwomiles.dao.hibernate");
        daoRule.addViolation("test.com.seventytwomiles.web.spring");

        configuration.addRule(daoRule);
    }


    /**
     * @see AbstractArchitectureRulesConfigurationTest
     */
    public String getConfigurationFileName() {

        /**
         * Provide the name of the rules configuration file.
         * File file is loaded from the classpath.
         */
        return "architecture-rules.xml";
    }


    /**
     * @see AbstractArchitectureRulesConfigurationTest#testArchitecture
     */
    public void testArchitecture() {

        /**
         * Run the test via doTest(). If any rules are broken,
         * or if the configuration can not be loaded properly,
         * then the appropriate Exception will be thrown.
         */
        assertTrue(doTests());
    }
}
        </pre>


		<h3>Mixed Configuration</h3>

        <p>Finally, you may mix programmatic and xml configuration. To do this, implement <tt>String getConfigurationFileName()</tt>
to return "architecture-rules.xml" and continue to <tt>getConfiguraiton()</tt> in <tt>onSetup();</tt>. This will give you an instance
of the configuration which is preloaded with the configuration found in the xml file. You may not programmatically add to or modify
that configuration</p>

      </div><!-- entry -->
    </div><!-- post -->

    <div class="hentry post programming" id="write-ant-task">
      <h1 class="posttitle entry-title">Write your Ant task</h1>
      <div class="entry entry-content">

        <p>If you would prefer to utilize Ant rather than write a unit test you may do so by defining a new <tt>taskdef</tt> for
        <tt>com.seventytwomiles.architecturerules.ant.AssertArchitectureTask</tt>.</p>

        <p>Complete details for this Task can be found <a href="run.html#ant-task">here</a> and the list of required dependencies is
        located <a href="dependencies">here</a>.</p>

		<p>By choosing to use the ant Task, you give up the ability to provide programmatic configuration All configuration will be read
		from the xml configuration file. If you must provide programmatic configuration, there is still an alternative Ant route, that
		utilizes the <tt>junit</tt> task. Details are <a href="run.html#ant-unit-test">here</a>.</p>

      </div><!-- entry -->
    </div><!-- post -->

    <div class="hentry post programming" id="execute-unit-test">
      <h1 class="posttitle entry-title">Execute your unit test</h1>
      <div class="entry entry-content">

        <p class="alert">This section has not been written yet. If anyone would like to provide this content, please mail the content
        to the dev mailing list <a href="http://groups.google.com/group/architecture-rules-dev/topics?gvc=2">here</a>.</p>

      </div><!-- entry -->
    </div><!-- post -->



    <div class="hentry post programming" id="execute-ant-task">
      <h1 class="posttitle entry-title">Execute your Ant task</h1>
      <div class="entry entry-content">

        <p class="alert">This section has not been written yet. If anyone would like to provide this content, please mail the content
        to the dev mailing list <a href="http://groups.google.com/group/architecture-rules-dev/topics?gvc=2">here</a>.</p>

      </div><!-- entry -->
    </div><!-- post -->

  </div><!-- primary -->
  <div id="secondary">

    <h4>architecture<span>propaganda</span></h4>
    <p></p>
    <ul id="moreinformation">
      <li><a href="cyclic-dependencies.html">Cyclic Dependencies</a> the&nbsp;negative consequences</li>
      <li><a href="separation-of-concern.html">Separation of Concern</a> assert independent layers</li>
      <li><a href="automation.html">Automate</a> architecture assertions</li>
      <li><a href="best-practices.html">Best Practices</a> of architecture-rules usage</li>
    </ul>

    <h4>more<span>information</span></h4>
    <p></p>
    <ul id="moreinformation">
      <li><a href="getting-started.html">Getting Started</a> configuration examples and how to run the test</li>
      <li><a href="sample-configuration.html">Sample Configuration</a> to get you started</li>
      <li><a href="run.html#ant-task">Ant Task</a> to run from ant rather than JUnit</li>
      <li><a href="exceptions.html">Exceptions</a> descriptions of all them</li>
      <li><a href="alternatives.html">Alternative</a> architecture monitoring java solutions</li>
      <li><a href="dependencies.html">Dependencies</a> </li>
      <li><a href="http://architecturerules.googlecode.com/svn/docs/maven-generated-site/project-reports.html">Maven</a>-generated site</li>
    </ul>

    <h4>issue<span>list</span></h4>
    <ul id="issues">
      <li><a href="http://code.google.com/p/architecturerules/issues/list">view issues</a></li>
      <li><a href="http://code.google.com/p/architecturerules/issues/entry">report issue</a></li>
    </ul>

    <h4>licence<span>details</span></h4>
    <p>Licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a> - <small>allows use of the source code for the development of free and open source software as well as proprietary and closed source software.</small></p>

  </div>
  <!-- /secondary --></div>
<!-- footer -->
<div style="clear: both;"></div>
<div id="footbar">
  <p>Need some footer content...</p>
</div>
<!-- /footer -->
<!-- syntaxhighlighter -->
<script type="text/javascript" src="http://syntaxhighlighter.googlecode.com/svn/tags/1.5.1/Scripts/shCore.js" language="JavaScript">
</script>
<script type="text/javascript" src="http://syntaxhighlighter.googlecode.com/svn/tags/1.5.1/Scripts/shBrushXml.js" language="JavaScript">
</script>
<script type="text/javascript" src="http://syntaxhighlighter.googlecode.com/svn/tags/1.5.1/Scripts/shBrushJava.js" language="JavaScript">
</script>
<!-- nifty -->
<script type="text/javascript" src="js/nifty.js" language="JavaScript">
</script>
<script language="javascript">
	window.onload = function () {
    	dp.SyntaxHighlighter.ClipboardSwf = 'http://syntaxhighlighter.googlecode.com/svn/tags/1.5.1/Scripts/clipboard.swf';
	    dp.SyntaxHighlighter.HighlightAll('code');

		if(!NiftyCheck())
            return;

		  Rounded("div#about","#fff","#E7EFFF");
		  RoundedTop("div#footbar","#fff","#e8fecd");
	}
</script>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-616623-3";
urchinTracker();
</script>

</div>
</body>
</html>
